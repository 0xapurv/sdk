# Defines buckets on cr-buildbucket.appspot.com, used to schedule builds
# on buildbot. In particular, CQ uses some of these buckets to schedule tryjobs.
#
# See http://luci-config.appspot.com/schemas/projects:buildbucket.cfg for
# schema of this file and documentation.
#
# Please keep this list sorted by bucket name.

acl_sets {
  name: "ci"
  acls {
    role: READER
    group: "all"
  }
  acls {
    role: SCHEDULER
    identity: "luci-scheduler@appspot.gserviceaccount.com"
  }
  acls {
    role: SCHEDULER
    identity: "dart-luci-ci-builder@dart-ci.iam.gserviceaccount.com"
  }
  acls {
    role: SCHEDULER
    # todo(athom): remove this once google builder is triggered automatically
    group: "project-dart-admins"
  }
}

acl_sets {
  name: "try"
  acls {
    role: READER
    group: "all"
  }
  acls {
    role: SCHEDULER
    group: "project-dart-tryjob-access"
  }
  acls {
    role: SCHEDULER
    group: "service-account-cq"
  }
}

builder_mixins {
  name: "android"
  recipe {
    properties_j: "shard_timeout:5400" # 1.5h
  }
}

builder_mixins {
  name: "chocolatey"
  recipe {
    name: "dart/chocolatey"
  }
}

builder_mixins {
  name: "co19"
  recipe {
    name: "dart/package_co19"
  }
}

builder_mixins {
  name: "clobber"
  recipe {
    properties: "clobber:true"
  }
}

builder_mixins {
  name: "debianpackage"
  # todo(athom): how should this machine be defined?
}

builder_mixins {
  name: "docker"
  recipe {
    name: "dart/docker"
  }
}

builder_mixins {
  name: "external"
  recipe {
    name: "dart/external"
  }
}

builder_mixins {
  name: "forward"
  recipe {
    name: "dart/forward_branch"
  }
}

builder_mixins {
  name: "gclient"
  recipe {
    name: "dart/gclient"
  }
}

builder_mixins {
  name: "fyi"
  recipe {
    properties: "mastername:client.dart.fyi"
  }
}

builder_mixins {
  name: "mac"
  dimensions: "os:Mac"
}

builder_mixins {
  name: "sdk"
  recipe {
    name: "dart/sdk_swarming"
  }
}

builder_mixins {
  name: "slow"
  execution_timeout_secs: 21600 # 6h
  recipe {
    properties_j: "shard_timeout:7200" # 2h
  }
}

builder_mixins {
  name: "win"
  dimensions: "os:Windows"
}

builder_mixins {
  name: "new_workflow"
  recipe {
    properties_j: "new_workflow_enabled:true"
  }
}

buckets {
  # CI Builders that require special permissions
  name: "luci.dart.ci"
  acl_sets: "ci"

  swarming {
    hostname: "chromium-swarm.appspot.com"
    url_format: "https://ci.chromium.org/swarming/task/{task_id}"
    builder_defaults {
      category: "Dart CI"
      dimensions: "cpu:x86-64"
      dimensions: "os:Linux"
      build_numbers: YES
      priority: 50
      swarming_tags: "vpython:native-python-wrapper"
      caches {
        path: "browsers"
        name: "browsers"
      }
      recipe {
        cipd_package: "infra/recipe_bundles/chromium.googlesource.com/chromium/tools/build"
        cipd_version: "refs/heads/master"
        properties: "clobber:true"
        properties: "mastername:client.dart"
        name: "dart/neo"
      }
      service_account: "dart-luci-ci-builder@dart-ci.iam.gserviceaccount.com"
    }

    # CI Builders that require privileged access
    builders { name: "base" mixins: "forward" }
    builders { name: "chocolatey" mixins: "chocolatey" mixins: "win" }
    builders { name: "co19-roller" mixins: "co19" }
    builders { name: "dart-sdk-linux" }
    builders { name: "dart-sdk-mac" mixins: "mac" }
    builders { name: "dart-sdk-win" mixins: "win" }
    builders { name: "docker" mixins: "docker" }
    builders { name: "debianpackage-linux" mixins: "debianpackage" }
    builders { name: "google" mixins: "external" }
    builders { name: "versionchecker-linux" }

    # CI builders that require privileged access on the dev branch
    builders { name: "dart-sdk-linux-dev" }
    builders { name: "dart-sdk-mac-dev" mixins: "mac" }
    builders { name: "dart-sdk-win-dev" mixins: "win" }
    builders { name: "debianpackage-linux-dev" mixins: "debianpackage" }
    builders { name: "versionchecker-linux-dev" }

    # CI builders that require privileged access on the stable branch
    builders { name: "dart-sdk-linux-stable" }
    builders { name: "dart-sdk-mac-stable" mixins: "mac" }
    builders { name: "dart-sdk-win-stable" mixins: "win" }
    builders { name: "debianpackage-linux-stable" mixins: "debianpackage" }
    builders { name: "versionchecker-linux-stable" }
  }
}

buckets {
  # CI Builders that only require try permissions
  name: "luci.dart.ci.sandbox"
  acl_sets: "ci"

  swarming {
    hostname: "chromium-swarm.appspot.com"
    url_format: "https://ci.chromium.org/swarming/task/{task_id}"
    builder_defaults {
      category: "Dart CI (Sandboxed)"
      dimensions: "cpu:x86-64"
      dimensions: "os:Linux"
      dimensions: "pool:luci.dart.try"
      build_numbers: YES
      priority: 50
      swarming_tags: "vpython:native-python-wrapper"
      caches {
        path: "browsers"
        name: "browsers"
      }
      recipe {
        cipd_package: "infra/recipe_bundles/chromium.googlesource.com/chromium/tools/build"
        cipd_version: "refs/heads/master"
        properties: "clobber:true"
        properties: "mastername:client.dart"
        name: "dart/neo"
      }
      service_account: "dart-luci-try-builder@dart-ci.iam.gserviceaccount.com"
    }

    # Fuzz testing builders
    builders { name: "fuzz-linux" }

    # CI Builders for the analyzer branch
    builders { name: "analyzer-analysis-server-linux-analyzer-stable" mixins: "new_workflow"  }
    builders { name: "analyzer-linux-release-analyzer-stable" mixins: "new_workflow"  }
    builders { name: "analyzer-mac-release-analyzer-stable" mixins: "new_workflow"  mixins: "mac" }
    builders { name: "analyzer-win-release-analyzer-stable" mixins: "new_workflow"  mixins: "win" }

    # CI Builders for the master branch
    builders { name: "analyzer-analysis-server-linux" mixins: "new_workflow" }
    builders { name: "analyzer-linux-release" mixins: "new_workflow" }
    builders { name: "analyzer-mac-release" mixins: "mac" mixins: "new_workflow" }
    builders { name: "analyzer-win-release" mixins: "win" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-debug-x64" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-product-x64" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-release-x64" mixins: "new_workflow" }
    builders { name: "cross-vm-linux-release-arm64" mixins: "new_workflow" }
    builders { name: "dart2js-csp-minified-linux-x64-chrome" mixins: "new_workflow" }
    builders { name: "dart2js-minified-strong-linux-x64-d8" mixins: "new_workflow" }
    builders { name: "dart2js-strong-hostasserts-linux-ia32-d8" mixins: "new_workflow" }
    builders { name: "dart2js-strong-linux-x64-chrome" mixins: "new_workflow" }
    builders { name: "dart2js-strong-linux-x64-firefox" mixins: "new_workflow" }
    builders { name: "dart2js-strong-mac-x64-chrome" mixins: "mac" mixins: "new_workflow" }
    builders { name: "dart2js-strong-mac-x64-safari" mixins: "mac" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-chrome" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-edge" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-firefox" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-ie11" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-unit-linux-x64-release" mixins: "new_workflow" }
    builders { name: "ddc-linux-release-chrome" mixins: "new_workflow" }
    builders { name: "ddc-mac-release-chrome" mixins: "mac" mixins: "new_workflow" }
    builders { name: "ddc-win-release-chrome" mixins: "win" mixins: "new_workflow" }
    builders { name: "flutter-analyze" }
    builders { name: "flutter-engine-linux" }
    builders { name: "front-end-linux-release-x64" mixins: "clobber" }
    builders { name: "front-end-mac-release-x64" mixins: "clobber" mixins: "mac" }
    builders { name: "front-end-win-release-x64" mixins: "clobber" mixins: "win" mixins: "new_workflow" }
    builders { name: "gclient" mixins: "gclient" }
    builders { name: "pkg-linux-release" mixins: "new_workflow" }
    builders { name: "pkg-mac-release" mixins: "mac" mixins: "new_workflow" }
    builders { name: "pkg-win-release" mixins: "win" mixins: "new_workflow" }
    builders { name: "pkg-linux-debug" mixins: "new_workflow" }
    builders { name: "vm-canary-linux-debug" mixins: "new_workflow" }
    builders { name: "vm-dartkb-linux-debug-x64" mixins: "new_workflow" }
    builders { name: "vm-dartkb-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-asan-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-checked-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-ia32" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-simdbc64" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-product-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-ia32" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simarm" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simarm64" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simdbc64" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-debug-simdbc64" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-debug-x64" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-product-x64" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-release-simdbc64" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-release-x64" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-optcounter-threshold-linux-release-ia32" mixins: "new_workflow" }
    builders { name: "vm-kernel-optcounter-threshold-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-android-release-arm" mixins: "android" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-simarm" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-simarm64" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-debug-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-product-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-simarm" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-simarm64" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-mac-release-simarm64" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-obfuscate-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-win-release-simarm64" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-win-release-x64" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-linux-debug-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-mac-debug-simdbc64" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-mac-release-simdbc64" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-rollback-linux-debug-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-rollback-linux-release-x64" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-debug-ia32" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-debug-x64" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-product-x64" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-release-ia32" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-release-x64" mixins: "win" mixins: "new_workflow" }

    # CI Builders for the dev branch
    builders { name: "analyzer-analysis-server-linux-dev" mixins: "new_workflow" }
    builders { name: "analyzer-linux-release-dev" mixins: "new_workflow" }
    builders { name: "analyzer-mac-release-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "analyzer-win-release-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-debug-x64-dev" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-product-x64-dev" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "cross-vm-linux-release-arm64-dev" mixins: "new_workflow" }
    builders { name: "dart2js-csp-minified-linux-x64-chrome-dev" mixins: "new_workflow" }
    builders { name: "dart2js-minified-strong-linux-x64-d8-dev" mixins: "new_workflow" }
    builders { name: "dart2js-strong-hostasserts-linux-ia32-d8-dev" mixins: "new_workflow" }
    builders { name: "dart2js-strong-linux-x64-chrome-dev" mixins: "new_workflow" }
    builders { name: "dart2js-strong-linux-x64-firefox-dev" mixins: "new_workflow" }
    builders { name: "dart2js-strong-mac-x64-chrome-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "dart2js-strong-mac-x64-safari-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-chrome-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-edge-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-firefox-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-ie11-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-unit-linux-x64-release-dev" mixins: "new_workflow" }
    builders { name: "ddc-linux-release-chrome-dev" mixins: "new_workflow" }
    builders { name: "ddc-mac-release-chrome-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "ddc-win-release-chrome-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "front-end-linux-release-x64-dev" mixins: "clobber" }
    builders { name: "front-end-mac-release-x64-dev" mixins: "clobber" mixins: "mac" }
    builders { name: "front-end-win-release-x64-dev" mixins: "clobber" mixins: "win" }
    builders { name: "gclient-dev" mixins: "gclient" }
    builders { name: "pkg-linux-release-dev" mixins: "new_workflow" }
    builders { name: "pkg-mac-release-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "pkg-win-release-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-canary-linux-debug-dev" mixins: "new_workflow" }
    builders { name: "vm-dartkb-linux-debug-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-dartkb-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-asan-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-checked-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-ia32-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-simdbc64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-product-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-ia32-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simarm-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simarm64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simdbc64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-debug-simdbc64-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-debug-x64-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-product-x64-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-release-simdbc64-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-release-x64-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-optcounter-threshold-linux-release-ia32-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-optcounter-threshold-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-android-release-arm-dev" mixins: "android" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-simarm-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-simarm64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-debug-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-product-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-simarm-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-simarm64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-mac-release-simarm64-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-obfuscate-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-win-release-simarm64-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-win-release-x64-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-linux-debug-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-mac-debug-simdbc64-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-mac-release-simdbc64-dev" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-rollback-linux-debug-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-rollback-linux-release-x64-dev" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-debug-ia32-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-debug-x64-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-product-x64-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-release-ia32-dev" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-release-x64-dev" mixins: "win" mixins: "new_workflow" }

    # CI Builders for the stable branch
    builders { name: "analyzer-analysis-server-linux-stable" mixins: "new_workflow" }
    builders { name: "analyzer-linux-release-stable" mixins: "new_workflow" }
    builders { name: "analyzer-mac-release-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "analyzer-win-release-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-debug-x64-stable" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-product-x64-stable" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "cross-vm-linux-release-arm64-stable" mixins: "new_workflow" }
    builders { name: "dart2js-csp-minified-linux-x64-chrome-stable" mixins: "new_workflow" }
    builders { name: "dart2js-minified-strong-linux-x64-d8-stable" mixins: "new_workflow" }
    builders { name: "dart2js-strong-hostasserts-linux-ia32-d8-stable" mixins: "new_workflow" }
    builders { name: "dart2js-strong-linux-x64-chrome-stable" mixins: "new_workflow" }
    builders { name: "dart2js-strong-linux-x64-firefox-stable" mixins: "new_workflow" }
    builders { name: "dart2js-strong-mac-x64-chrome-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "dart2js-strong-mac-x64-safari-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-chrome-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-edge-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-firefox-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-ie11-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-unit-linux-x64-release-stable" mixins: "new_workflow" }
    builders { name: "ddc-linux-release-chrome-stable" mixins: "new_workflow" }
    builders { name: "ddc-mac-release-chrome-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "ddc-win-release-chrome-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "front-end-linux-release-x64-stable" mixins: "clobber" }
    builders { name: "front-end-mac-release-x64-stable" mixins: "clobber" mixins: "mac" }
    builders { name: "front-end-win-release-x64-stable" mixins: "clobber" mixins: "win" }
    builders { name: "gclient-stable" mixins: "gclient" }
    builders { name: "pkg-linux-release-stable" mixins: "new_workflow" }
    builders { name: "pkg-mac-release-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "pkg-win-release-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-canary-linux-debug-stable" mixins: "new_workflow" }
    builders { name: "vm-dartkb-linux-debug-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-dartkb-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-asan-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-checked-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-ia32-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-simdbc64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-product-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-ia32-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simarm-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simarm64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simdbc64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-debug-simdbc64-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-debug-x64-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-product-x64-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-release-simdbc64-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-release-x64-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-optcounter-threshold-linux-release-ia32-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-optcounter-threshold-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-android-release-arm-stable" mixins: "android" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-simarm-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-simarm64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-debug-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-product-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-simarm-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-simarm64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-mac-release-simarm64-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-obfuscate-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-win-release-simarm64-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-win-release-x64-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-linux-debug-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-mac-debug-simdbc64-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-mac-release-simdbc64-stable" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-rollback-linux-debug-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-rollback-linux-release-x64-stable" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-debug-ia32-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-debug-x64-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-product-x64-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-release-ia32-stable" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-release-x64-stable" mixins: "win" mixins: "new_workflow" }
  }
}

buckets {
  name: "luci.dart.try"
  acl_sets: "try"

  swarming {
    hostname: "chromium-swarm.appspot.com"
    url_format: "https://ci.chromium.org/swarming/task/{task_id}"
    builder_defaults {
      category: "Dart Try"
      dimensions: "cpu:x86-64"
      dimensions: "os:Linux"
      build_numbers: YES
      priority: 30
      swarming_tags: "vpython:native-python-wrapper"
      caches {
        path: "browsers"
        name: "browsers"
      }
      recipe {
        cipd_package: "infra/recipe_bundles/chromium.googlesource.com/chromium/tools/build"
        cipd_version: "refs/heads/master"
        properties: "clobber:true"
        properties: "mastername:dart.try"
        name: "dart/neo"
      }
      service_account: "dart-luci-try-builder@dart-ci.iam.gserviceaccount.com"
    }

    # git cl try builders
    builders { name: "cl-linux-try" }
    builders { name: "cl-mac-try" mixins: "mac" }
    builders { name: "cl-win-try" mixins: "win" }

    # CQ / choose tryjobs builders
    builders { name: "analyzer-analysis-server-linux-try" mixins: "new_workflow" }
    builders { name: "analyzer-linux-release-try" mixins: "new_workflow" }
    builders { name: "analyzer-mac-release-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "analyzer-win-release-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "app-kernel-linux-debug-x64-try"  mixins: "new_workflow"}
    builders { name: "app-kernel-linux-product-x64-try"  mixins: "new_workflow"}
    builders { name: "app-kernel-linux-release-x64-try"  mixins: "new_workflow"}
    builders { name: "benchmark-linux-try" }
    builders { name: "dart-sdk-windows-try" mixins: "sdk" mixins: "win" }
    builders { name: "dart2js-csp-minified-linux-x64-chrome-try" mixins: "new_workflow" }
    builders { name: "dart2js-minified-strong-linux-x64-d8-try" mixins: "new_workflow" }
    builders { name: "dart2js-strong-hostasserts-linux-ia32-d8-try" mixins: "new_workflow" }
    builders { name: "dart2js-strong-linux-x64-chrome-try" mixins: "new_workflow" }
    builders { name: "dart2js-strong-linux-x64-firefox-try" mixins: "new_workflow" }
    builders { name: "dart2js-strong-mac-x64-chrome-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "dart2js-strong-mac-x64-safari-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-chrome-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-firefox-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-strong-win-x64-ie11-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "dart2js-unit-linux-x64-release-try" mixins: "new_workflow" }
    builders { name: "ddc-linux-release-chrome-try" mixins: "clobber" mixins: "new_workflow" }
    builders { name: "ddc-mac-release-chrome-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "ddc-win-release-chrome-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "flutter-analyze-try" }
    builders { name: "front-end-linux-release-x64-try" mixins: "clobber" }
    builders { name: "front-end-mac-release-x64-try" mixins: "clobber" mixins: "mac" }
    builders { name: "front-end-win-release-x64-try" mixins: "clobber" mixins: "win" mixins: "new_workflow" }
    builders { name: "gclient-try" mixins: "gclient" }
    builders { name: "pkg-linux-release-try" mixins: "new_workflow" }
    builders { name: "pkg-mac-release-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "pkg-win-release-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-canary-linux-debug-try" mixins: "new_workflow" }
    builders { name: "vm-dartkb-linux-debug-x64-try" mixins: "new_workflow" }
    builders { name: "vm-dartkb-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-asan-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-checked-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-ia32-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-simdbc64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-debug-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-product-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-ia32-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simarm-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simarm64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-simdbc64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-debug-simdbc64-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-debug-x64-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-product-x64-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-release-simdbc64-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-mac-release-x64-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-optcounter-threshold-linux-release-ia32-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-optcounter-threshold-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-android-release-arm-try" mixins: "android" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-simarm-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-simarm64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-bare-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-debug-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-product-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-simarm-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-simarm64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-mac-release-simarm64-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-obfuscate-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-win-release-simarm64-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-precomp-win-release-x64-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-linux-debug-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-mac-debug-simdbc64-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-mac-release-simdbc64-try" mixins: "mac" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-rollback-linux-debug-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-reload-rollback-linux-release-x64-try" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-debug-ia32-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-debug-x64-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-product-x64-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-release-ia32-try" mixins: "win" mixins: "new_workflow" }
    builders { name: "vm-kernel-win-release-x64-try" mixins: "win" mixins: "new_workflow" }
  }
}
